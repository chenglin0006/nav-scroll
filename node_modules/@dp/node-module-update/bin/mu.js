#!/usr/bin/env node

'use strict';
let program =  require('commander');
let co =  require('co');
let generator = require('../client');
let Log = require("@dp/log");
let mod;
let env;
/**
 * mod
 */
program
    .arguments('<mod> <env>')
    .action(function (m,e) {
        mod = m || "";
        env = e || "beta";
    });

program.parse(process.argv);

co(function*(){
	Log.info(`当前环境:${env}`);
	Log.info(`下载模块:${mod}`);
    let fn = yield generator(env);
    fn({name:mod});
});