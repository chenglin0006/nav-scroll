# util-m-ua

## 功能

判断当前网页所在的手机系统、浏览器环境及其版本

## 输出

isMobile: 是否是移动设备（包括手机和pad）
type: app环境
version: app版本
os: 操作系统
osVerson: 操作系统版本
source: 页面所属的web类型(dianping/meituan)
env: 页面所处的环境(product/beta)

具体支持的情况看`附录`说明

## 使用

### script

script标签引用：`http://www.dpfile.com/app/util-m-ua/index.min.js`，通过webpack library `UMD`打包方式，支持AMD,CMD用法

###npm

```
//从美团仓库下载
mnpm install @dp/util-m-ua;

var getUA = require('util-m-ua');
var environment = getUA();
  //output
  {
    type: 'dpapp', (APP名称)
    version: '7.9.6' (APP版本)
    os: 'android', (操作系统)
    osVersion: '4.4.4', (操作系统版本)
    kernal: '537.36', (内核版本)
    browserVersion: '38.0.0.1' (android为chrome版本，ios为safari版本)
  }

```

###cortex

```js
cortex install util-m-ua --save
var getUA = require('util-m-ua');
//用法同npm
```

## 附录

### 环境及对应type名称附录


* 点评主App - 'dpapp' 
* 点评管家App - 'dpmerchant'
* 点评结婚App - 'dpwed'
* 其他点评类app - 'dp'
* 美团主App - 'mtgroup'
* 其他美团类app - 'mt'（待扩充）
* 微信 - 'weixin'
* 手机QQ - 'qq'
* QQZone - 'qqzone'
* UC浏览器 - 'ucweb'
* 浏览器 - 'browser'


### 当前支持检测的手机系统及对应os名称

* 安卓 - 'android'
* iOS - 'ios'

### 当前支持检测的env

* 线上环境 - 'product'
* 测试环境 - 'beta'

### 当前支持检测的source

* 点评环境 - 'dianping'
* 美团环境 - 'meituan'

## 测试

* git clone下载该项目
* 安装全局环境mocha `npm install mocha -g`
* 在项目根目录下运行`mocha`

## 贡献


* 如果有任何设备检测出错了，请通过issue来告知我
* 如果需要添加其他设备的检测，请通过issue或者merge request给我