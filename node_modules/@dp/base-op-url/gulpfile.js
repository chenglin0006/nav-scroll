var gulp = require('gulp');
var ejs = require('gulp-ejs');
var fs = require('fs');

gulp.task('build',function(){
	gulp.src(['templates/**/*.ejs'])
		.pipe(ejs({
			contents: fs.readFileSync("./src/base-op-url.js"),
			exports: "Url",
			dependencies: {
			/**
			 * 格式: "被依赖模块对外暴露的变量":"被依赖模块名称"
			 */
			}
		}, {
			ext: ".js"
		}))
		.pipe(gulp.dest('./dest'));
});

gulp.task('default',['build']);