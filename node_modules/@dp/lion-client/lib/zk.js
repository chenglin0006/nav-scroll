/**
 *
 * 链接zk
 *
 * */

var ZK = require("@dp/keepalive-zookeeper");
var co = require("co");

var PATH = "/DP/CONFIG";


exports.init = function () {
    if (exports._initPromise) {
        return exports._initPromise;
    }
    var zk = new ZK();

    return exports._initPromise = co(function*() {
        yield  zk.init();

        exports.isInit = true;
        exports.client = zk;
    });
};

exports.PATH = PATH;

exports._initPromise = null;
exports.isInit = false;