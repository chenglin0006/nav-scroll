let SEQ_SYMBOL = require("./ct").HANDLER_SEQ;
class Analysis{
	constructor(){
		this.cache = "";
		this.director = [];
	}
	push(str){
		this.cache+=(str.toString().trim());
		this.do();
		return this;
	}
	do(){
		let reg = new RegExp(`(.*?)${SEQ_SYMBOL}`,'g');
		this.cache = this.cache.replace(reg,(string,match)=>{
			if(match)
				this.director.push(match);
			return "";
		});
	}
	get(){
		return this.director.splice(0);
	}
}

module.exports = Analysis;